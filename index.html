<!DOCTYPE html>
<html ng-app="temps">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Angular Material style sheet -->
    <link rel="stylesheet"
          href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc4/angular-material.min.css">
    <title>temps</title>
    <link rel="stylesheet" href="animate.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="node_modules/angular-material-data-table/dist/md-data-table.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">


    <script src='bower_components/jquery/dist/jquery.min.js' type='text/javascript'></script>

    <!-- Angular Material requires Angular.js Libraries -->
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-animate.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-aria.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular-messages.min.js"></script>

    <!-- Angular Material Library -->
    <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0-rc4/angular-material.min.js"></script>

    <script type="text/javascript" src="node_modules/angular-material-data-table/dist/md-data-table.min.js"></script>
    <script src="http://cdn.jsdelivr.net/angular-material-icons/0.4.0/angular-material-icons.min.js"></script>

    <script src="bower_components/ngmap/build/scripts/ng-map.min.js"></script>
    <script src="http://maps.google.com/maps/api/js"></script>

    <script src='bower_components/d3/d3.min.js' type='text/javascript'></script>
    <script src='bower_components/angular-charts/dist/angular-charts.min.js' type='text/javascript'></script>

    <script type="text/javascript" src="main.js"></script>
</head>

<body ng-controller="AppCtrl" layout="row"> <!-- style="background: #03A9F4"> -->

<div layout="column" flex>
    <md-toolbar class="dmd-primary _md">
        <div class="md-toolbar-tools">
            <md-input-container flex="90">
                <input ng-enter="getWeather(cityName.name)" ng-model="cityName.name"
                       placeholder="city">
            </md-input-container>
            <button class="md-icon-button md-button md-ink-ripple" type="button" ng-transclude=""
                    aria-label="View Source" ng-click="getWeather(actCity)">
                <img src="media/refresh.png" width="30" alt="refresh"/>
            </button>
        </div>
    </md-toolbar>

    <md-content layout="column">
        <div ng-show="isLoading" layout="row" layout-sm="column" layout-align="space-around" class="loader">
            <md-progress-circular md-mode="indeterminate"></md-progress-circular>
        </div>

        <md-list ng-show="!isLoading" flex>
            <md-list-item class="md-3-line" ng-hide="switch" ng-click="switch = true">
                <div class="md-list-item-text" layout="column" style="text-align: center">
                    <span class="md-display-3">{{roundTemp(cityData.main.temp)}}째</span>
                </div>
                <img class="animated fadeInDown" src="media/{{cityData.weather[0].icon}}-3.png" width="120"
                     alt="{{cityData.weather[0].description}}"/>

            </md-list-item>
            <md-list-item ng-show="switch" ng-click="switch = false">
                <md-table-container>
                    <table md-table>
                        <thead md-head>
                        <tr md-row>
                            <th md-column><span>icon</span></th>
                            <th md-column md-numeric>data</th>
                        </tr>
                        </thead>
                        <tbody md-body>
                            <tr md-row  md-select-id="name" class="list-item" md-auto-select>
                                <td md-cell colspan="2" style="max-width: 120px;">
                                    <em style="white-space: nowrap;">{{cityData.weather[0].description}}</em>
                                </td>
                            </tr>
                            <tr md-row  md-select-id="name" class="list-item" md-auto-select>
                            <td md-cell>
                                <img src="media/wind.png" width="30" alt="windspeed"/>
                            </td>
                            <td md-cell class="no-padding">
                                <strong>{{cityData.wind.speed}}</strong> <small>m/s</small> <img style="display: inline-block; float: right; margin-top: 5px;" src="media/dir-{{getDirection(cityData.wind.deg)}}.png" width="30" alt="wind direction"/>
                            </td>
                            </tr>
                            <tr md-row  md-select-id="name" class="list-item" md-auto-select>
                                <td md-cell>
                                    <img src="media/sunrise.png" width="30" alt="sunrise"/>
                                </td>
                                <td md-cell>
                                    {{getStyledTime(cityData.sys.sunrise)}}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </md-table-container>
                <md-table-container>
                    <table md-table>
                        <thead md-head>
                        <tr md-row>
                            <th md-column><span>icon</span></th>
                            <th md-column md-numeric>data</th>
                        </tr>
                        </thead>
                        <tbody md-body>
                        <tr md-row  md-select-id="name" class="list-item" md-auto-select>
                            <td md-cell>
                                <img src="media/humidity.png" width="30" alt="humidity"/>
                            </td>
                            <td md-cell>
                                <strong>{{roundTemp(cityData.main.humidity)}}</strong>%
                            </td>
                        </tr>
                        <tr md-row  md-select-id="name" class="list-item" md-auto-select>
                            <td md-cell>
                                <img src="media/03d-1.png" width="38" alt="cloudiness"/>
                            </td>
                            <td md-cell>
                                <strong>{{cityData.clouds.all}}</strong>%
                            </td>
                        </tr>
                        <tr md-row  md-select-id="name" class="list-item" md-auto-select>
                            <td md-cell>
                                <img src="media/sunset.png" width="30" alt="sunset"/>
                            </td>
                            <td md-cell>
                                {{getStyledTime(cityData.sys.sunset)}}
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </md-table-container>

            </md-list-item>

        </md-list>

        <md-table-container ng-show="!isLoading">
            <table md-table class="animationDelay">
                <thead md-head>
                <tr md-row>
                    <th md-column md-numeric><span>day</span></th>
                    <th md-column><span>째C</span></th>
                    <th md-column md-numeric>weather</th>
                </tr>
                </thead>
                <tbody md-body>
                <tr>
                    <td colspan="3">
                        <!--<ng-map center="[{{cityData.coord.lat}}, {{cityData.coord.lon}}]" zoom="10" ng-show="switch"></ng-map>-->
                        <!--<div ac-chart="chart" ac-data="data" ac-config="config" id='chart' class='chart'></div>-->
                    </td>
                </tr>
                <tr md-row md-select="dessert" ng-hide="switch" class="animated fadeInLeft"  md-select-id="name" class="list-item" md-auto-select ng-repeat="item in cityForecast.list"
                         ng-click="null">
                    <td md-cell><strong>{{getStyledDate($index)}}</strong></td>
                    <td md-cell>{{roundTemp(item.temp.day)}}째</td>
                    <td md-cell>
                        <img src="media/{{item.weather[0].icon}}-{{countNumber($index)}}.png" width="40"
                             alt="{{item.weather[0].description}}"/>
                    </td>
                </tr>

                <tr md-row md-select="dessert" ng-show="switch" class="animated fadeInRight" md-select-id="name" md-auto-select ng-repeat="item in cityForecastHourly.list"
                    ng-click="null">
                    <td md-cell><strong>{{getCuttedTime(item.dt_txt)}}</strong></td>
                    <td md-cell>{{roundTemp(item.main.temp)}}째</td>
                    <td md-cell>
                        <img src="media/{{item.weather[0].icon}}-{{countNumber($index)}}.png" width="40"
                             alt="{{item.weather[0].description}}"/>
                    </td>
                </tr>
                </tbody>
            </table>
        </md-table-container>
    </md-content>
</div>

</body>
</html>